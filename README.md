# Bronivik GO - Ð‘Ñ€Ð¾Ð½Ð¸Ñ€Ð¾Ð²Ð¾Ñ‡Ð½Ñ‹Ð¹ Ð±Ð¾Ñ‚

Ð£Ð¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ Ð±Ñ€Ð¾Ð½Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸ÑÐ¼Ð¸ Ñ‡ÐµÑ€ÐµÐ· Telegram Ñ Ð¸Ð½Ñ‚ÐµÐ³Ñ€Ð°Ñ†Ð¸ÐµÐ¹ Google Sheets, PostgreSQL Ð¸ Redis.

## Ð¢Ñ€ÐµÐ±Ð¾Ð²Ð°Ð½Ð¸Ñ

- Go 1.20+
- PostgreSQL 12+ / SQLite3
- Redis 5+
- Google Cloud Platform Ð°ÐºÐºÐ°ÑƒÐ½Ñ‚

## ÐšÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸Ñ

ÐžÑÐ½Ð¾Ð²Ð½Ñ‹Ðµ Ð¿Ð°Ñ€Ð°Ð¼ÐµÑ‚Ñ€Ñ‹ (`configs/config.yaml`):

```yaml
app:
  name: "bronivik-go"
  environment: "staging"  # production/staging
  version: "1.0.0"

telegram:
  bot_token: ${BOT_TOKEN}  # ÐžÐ±ÑÐ·Ð°Ñ‚ÐµÐ»ÑŒÐ½Ð°Ñ Ð¿ÐµÑ€ÐµÐ¼ÐµÐ½Ð½Ð°Ñ
  debug: true  # Ð’ÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑŒ Ð»Ð¾Ð³Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ Ð´ÐµÐ±Ð°Ð³Ð°

database:
  path: "./data/bookings.db"  # SQLite Ð¿Ð¾ ÑƒÐ¼Ð¾Ð»Ñ‡Ð°Ð½Ð¸ÑŽ
  postgres:  # ÐžÐ¿Ñ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ð¾ Ð´Ð»Ñ PostgreSQL
    host: "localhost"
    user: ${BOT_USER}
    password: ${BOT_PASSWORD}

google:
  credentials_file: ${GOOGLE_CREDENTIALS_FILE}  # ÐŸÑƒÑ‚ÑŒ Ðº JSON-ÐºÐ»ÑŽÑ‡Ñƒ Google API
  bookings_spreadsheet_id: ${BOOKINGS_SPREADSHEET_ID}
```

### ÐžÐ±Ñ‰Ð°Ñ Ð¸Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸Ñ
Ð¤Ð°Ð¹Ð» configs/items.yaml ÑÐ¾Ð´ÐµÑ€Ð¶Ð¸Ñ‚ ÐºÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸ÑŽ Ð²ÑÐµÑ… Ð°Ð¿Ð¿Ð°Ñ€Ð°Ñ‚Ð¾Ð² Ð´Ð»Ñ Ð±Ñ€Ð¾Ð½Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ Ð² ÑÐ¸ÑÑ‚ÐµÐ¼Ðµ. ÐŸÐ¾ÑÐ»Ðµ Ð²Ð½ÐµÑÐµÐ½Ð¸Ñ Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ð¹ Ñ‚Ñ€ÐµÐ±ÑƒÐµÑ‚ÑÑ Ð¿ÐµÑ€ÐµÐ·Ð°Ð¿ÑƒÑÐº Ð±Ð¾Ñ‚Ð°.

### Ð¡Ñ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ð° Ñ„Ð°Ð¹Ð»Ð°
```
items:
- id: 1                    # Ð£Ð½Ð¸ÐºÐ°Ð»ÑŒÐ½Ñ‹Ð¹ Ñ‡Ð¸ÑÐ»Ð¾Ð²Ð¾Ð¹ Ð¸Ð´ÐµÐ½Ñ‚Ð¸Ñ„Ð¸ÐºÐ°Ñ‚Ð¾Ñ€
  name: "BBL S"           # ÐÐ°Ð·Ð²Ð°Ð½Ð¸Ðµ Ð°Ð¿Ð¿Ð°Ñ€Ð°Ñ‚Ð°
  description: ""         # ÐžÐ¿Ð¸ÑÐ°Ð½Ð¸Ðµ (Ð¾Ð¿Ñ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ð¾)
  total_quantity: 1       # ÐžÐ±Ñ‰ÐµÐµ ÐºÐ¾Ð»Ð¸Ñ‡ÐµÑÑ‚Ð²Ð¾ ÐµÐ´Ð¸Ð½Ð¸Ñ†
  order: 10               # ÐŸÐ¾Ñ€ÑÐ´Ð¾Ðº Ð¾Ñ‚Ð¾Ð±Ñ€Ð°Ð¶ÐµÐ½Ð¸Ñ (Ñ‡ÐµÐ¼ Ð¼ÐµÐ½ÑŒÑˆÐµ, Ñ‚ÐµÐ¼ Ð²Ñ‹ÑˆÐµ)
- id: 2
  name: "Ultraformer MPT"
  description: ""
  total_quantity: 2
  order: 20
# ... Ð¾ÑÑ‚Ð°Ð»ÑŒÐ½Ñ‹Ðµ Ð°Ð¿Ð¿Ð°Ñ€Ð°Ñ‚Ñ‹
```

ÐŸÐ¾Ð»Ñ:
id (Ð¾Ð±ÑÐ·Ð°Ñ‚ÐµÐ»ÑŒÐ½Ð¾Ðµ) - ÑƒÐ½Ð¸ÐºÐ°Ð»ÑŒÐ½Ñ‹Ð¹ Ñ‡Ð¸ÑÐ»Ð¾Ð²Ð¾Ð¹ Ð¸Ð´ÐµÐ½Ñ‚Ð¸Ñ„Ð¸ÐºÐ°Ñ‚Ð¾Ñ€. ÐÐµÐ»ÑŒÐ·Ñ Ð¿Ð¾Ð²Ñ‚Ð¾Ñ€ÑÑ‚ÑŒ!

name (Ð¾Ð±ÑÐ·Ð°Ñ‚ÐµÐ»ÑŒÐ½Ð¾Ðµ) - Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ Ð°Ð¿Ð¿Ð°Ñ€Ð°Ñ‚Ð° Ð´Ð»Ñ Ð¾Ñ‚Ð¾Ð±Ñ€Ð°Ð¶ÐµÐ½Ð¸Ñ Ð² Ð±Ð¾Ñ‚Ðµ

description (Ð¾Ð¿Ñ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ð¾) - Ð´Ð¾Ð¿Ð¾Ð»Ð½Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾Ðµ Ð¾Ð¿Ð¸ÑÐ°Ð½Ð¸Ðµ

total_quantity (Ð¾Ð±ÑÐ·Ð°Ñ‚ÐµÐ»ÑŒÐ½Ð¾Ðµ) - Ð¼Ð°ÐºÑÐ¸Ð¼Ð°Ð»ÑŒÐ½Ð¾Ðµ ÐºÐ¾Ð»Ð¸Ñ‡ÐµÑÑ‚Ð²Ð¾ Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð½Ñ‹Ñ… ÐµÐ´Ð¸Ð½Ð¸Ñ† Ð´Ð»Ñ Ð±Ñ€Ð¾Ð½Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ

order (Ð¾Ð±ÑÐ·Ð°Ñ‚ÐµÐ»ÑŒÐ½Ð¾Ðµ) - Ð¿Ð¾Ñ€ÑÐ´ÐºÐ¾Ð²Ñ‹Ð¹ Ð½Ð¾Ð¼ÐµÑ€ Ð´Ð»Ñ ÑÐ¾Ñ€Ñ‚Ð¸Ñ€Ð¾Ð²ÐºÐ¸ (Ñ€ÐµÐºÐ¾Ð¼ÐµÐ½Ð´ÑƒÐµÑ‚ÑÑ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÑŒ ÑˆÐ°Ð³ 10)

ÐŸÑ€Ð¸ Ð£Ð´Ð°Ð»ÐµÐ½Ð¸Ð¸ Ð¸Ð»Ð¸ Ð´Ð¾Ð±Ð°Ð²Ð»ÐµÐ½Ð¸Ð¸ Ð¿Ð¾Ð·Ð¸Ñ†Ð¸Ð¸, id Ð¾Ð±ÑÐ·Ð°Ð½ Ð±Ñ‹Ñ‚ÑŒ ÑƒÐ½Ð¸ÐºÐ°Ð»ÑŒÐ½Ñ‹Ð¼.
ÐŸÑ€Ð¸ ÑƒÐ´Ð°Ð»ÐµÐ½Ð¸Ð¸ Ð¿Ð¾Ð·Ð¸Ñ†Ð¸Ð¸, ÐµÐ³Ð¾ id Ð±Ð¾Ð»ÑŒÑˆÐµ Ð½Ðµ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ÑÑ. ÐŸÐ¾ÑÑ‚Ð¾Ð¼Ñƒ Ð»ÑƒÑ‡ÑˆÐµ ÐºÐ¾Ð¼Ð¼ÐµÐ½Ñ‚Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ ÑÑ‚Ñ€Ð¾ÐºÐ¸ ÐµÐ³Ð¾ ÐºÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸Ð¸.
ÐŸÑ€Ð¸ Ð´Ð¾Ð±Ð°Ð²Ð»ÐµÐ½Ð¸Ð¸ Ð¿Ð¾Ð·Ð¸Ñ†Ð¸Ð¸, ÐµÐ³Ð¾ id ÐÐ• Ð¼Ð¾Ð¶ÐµÑ‚ ÑÐ¾Ð²Ð¿Ð°Ð´Ð°Ñ‚ÑŒ Ñ Ð´Ñ€ÑƒÐ³Ð¸Ð¼Ð¸ ÑÑƒÑ‰ÐµÑÑ‚Ð²ÑƒÑŽÑ‰Ð¸Ð¼Ð¸!
Ð”Ð»Ñ Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ñ Ð¿Ð¾Ñ€ÑÐ´ÐºÐ° Ð¼Ð¾Ð¶Ð½Ð¾ Ð¿ÐµÑ€ÐµÐ¾Ð¿Ñ€ÐµÐ´ÐµÐ»ÑÑ‚ÑŒ Ð¿Ð¾Ð»Ðµ `order`. Ð’ ÑÐ»ÑƒÑ‡Ð°Ðµ ÑÐ¾Ð²Ð¿Ð°Ð´ÐµÐ½Ð¸Ñ ÑÑ‚Ð¾Ð³Ð¾ Ð¿Ð¾Ð»Ñ, Ñ‚Ð¾ Ð²Ñ‹ÑˆÐµ Ð² ÑÐ¿Ð¸ÑÐºÐµ Ð±ÑƒÐ´ÐµÑ‚ Ñ‚Ð¾Ñ‚ Ñƒ ÐºÐ¾Ð³Ð¾ id Ð±Ð»Ð¸Ð¶Ðµ Ðº order

### ÐŸÐ¾Ñ€ÑÐ´Ð¾Ðº Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ñ Ð¾Ð±Ð¾Ñ€ÑƒÐ´Ð¾Ð²Ð°Ð½Ð¸Ñ
1. Ð—Ð°Ð¹Ñ‚Ð¸ Ð½Ð° Ñ…Ð¾ÑÑ‚Ð¸Ð½Ð³
2. Ð¾Ñ‚Ñ€ÐµÐ´Ð°ÐºÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ Ñ„Ð°Ð¹Ð» Ð½Ð°Ð¿Ñ€Ð¸Ð¼ÐµÑ€ ÐºÐ¾Ð¼Ð°Ð½Ð´Ð¾Ð¹ nano /configs/items.yaml
3. Ð´Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ Ð¸Ð»Ð¸ ÑƒÐ´Ð°Ð»Ð¸Ñ‚ÑŒ Ð½ÑƒÐ¶Ð½Ñ‹Ðµ Ð¿Ð¾Ð·Ð¸Ñ†Ð¸Ð¸
4. ÑÐ¾Ñ…Ñ€Ð°Ð½Ð¸Ñ‚ÑŒ Ð¸ Ð²Ñ‹Ð¹Ñ‚Ð¸
5. Ð·Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚ÑŒ docker-compose build
6. Ð¿ÐµÑ€ÐµÐ·Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚ÑŒ Ð±Ð¾Ñ‚Ð° docker-compose down Ð¸ Ð·Ð°Ñ‚ÐµÐ¼ docker-compose up

## ÐŸÐµÑ€ÐµÐ¼ÐµÐ½Ð½Ñ‹Ðµ Ð¾ÐºÑ€ÑƒÐ¶ÐµÐ½Ð¸Ñ (`.env`)

```bash
# ÐžÐ±ÑÐ·Ð°Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ðµ:
BOT_TOKEN=your_telegram_token
GOOGLE_CREDENTIALS_FILE=path/to/service-account.json
```

## Ð—Ð°Ð¿ÑƒÑÐº

```bash
# Ð£ÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ° Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚ÐµÐ¹
go mod tidy

# Ð—Ð°Ð¿ÑƒÑÐº Ñ ÐºÐ¾Ð½Ñ„Ð¸Ð³Ð¾Ð¼ Ð¿Ð¾ ÑƒÐ¼Ð¾Ð»Ñ‡Ð°Ð½Ð¸ÑŽ
go run main.go --config=configs/config.yaml

# Ð˜Ð»Ð¸ Ñ Ð¿ÐµÑ€ÐµÐ¼ÐµÐ½Ð½Ñ‹Ð¼Ð¸ Ð¾ÐºÑ€ÑƒÐ¶ÐµÐ½Ð¸Ñ
export BOT_TOKEN=your_token && go run main.go
```

## ÐšÐ¾Ð¼Ð°Ð½Ð´Ñ‹ Ð±Ð¾Ñ‚Ð°

### ÐŸÐ¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒÑÐºÐ¸Ðµ ÐºÐ¾Ð¼Ð°Ð½Ð´Ñ‹

`/start` - ÐÐ°Ñ‡Ð°Ð»Ð¾ Ñ€Ð°Ð±Ð¾Ñ‚Ñ‹, Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐ° ÑÑ‚Ð°Ñ‚ÑƒÑÐ° Ð±Ñ€Ð¾Ð½ÐµÐ¹

### Ð‘Ñ‹ÑÑ‚Ñ€Ñ‹Ðµ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ñ Ñ‡ÐµÑ€ÐµÐ· ÐºÐ½Ð¾Ð¿ÐºÐ¸:
- `ðŸ’¼ ÐÑÑÐ¾Ñ€Ñ‚Ð¸Ð¼ÐµÐ½Ñ‚` - ÐŸÐ¾ÐºÐ°Ð·Ð°Ñ‚ÑŒ Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð½Ð¾Ðµ Ð¾Ð±Ð¾Ñ€ÑƒÐ´Ð¾Ð²Ð°Ð½Ð¸Ðµ (Ð´Ð°Ð½Ð½Ñ‹Ðµ Ð¸Ð· `configs/items.yaml`)
- `ðŸ“… ÐŸÐ¾ÑÐ¼Ð¾Ñ‚Ñ€ÐµÑ‚ÑŒ Ñ€Ð°ÑÐ¿Ð¸ÑÐ°Ð½Ð¸Ðµ` - Ð’Ñ‹Ð±Ñ€Ð°Ñ‚ÑŒ Ð´Ð°Ñ‚Ñƒ Ð±Ñ€Ð¾Ð½Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ
- `ðŸ“Š ÐœÐ¾Ð¸ Ð·Ð°ÑÐ²ÐºÐ¸` - ÐŸÐ¾ÐºÐ°Ð·Ð°Ñ‚ÑŒ Ð°ÐºÑ‚Ð¸Ð²Ð½Ñ‹Ðµ Ð±Ñ€Ð¾Ð½Ð¸
- `ðŸ“ž ÐšÐ¾Ð½Ñ‚Ð°ÐºÑ‚Ñ‹ Ð¼ÐµÐ½ÐµÐ´Ð¶ÐµÑ€Ð¾Ð²` - ÐšÐ¾Ð½Ñ‚Ð°ÐºÑ‚Ñ‹ Ð¸Ð· `configs/config.yaml: managers_contacts`

### ÐŸÑ€Ð¾Ñ†ÐµÑÑ Ð±Ñ€Ð¾Ð½Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ:
1. ÐÐ°Ð¶Ð¼Ð¸Ñ‚Ðµ `ðŸ“‹ Ð¡ÐžÐ—Ð”ÐÐ¢Ð¬ Ð—ÐÐ¯Ð’ÐšÐ£`
2. Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð°Ð¿Ð¿Ð°Ñ€Ð°Ñ‚ (Ð´Ð°Ð½Ð½Ñ‹Ðµ Ð¸Ð· `items.yaml`)
3. Ð’Ð²ÐµÐ´Ð¸Ñ‚Ðµ Ð´Ð°Ñ‚Ñƒ Ð² Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚Ðµ `Ð”Ð”.ÐœÐœ.Ð“Ð“Ð“Ð“` (Ð½Ð°Ð¿Ñ€Ð¸Ð¼ÐµÑ€, `25.12.2024`)
4. ÐŸÐ¾Ð´Ñ‚Ð²ÐµÑ€Ð´Ð¸Ñ‚Ðµ Ð´Ð°Ð½Ð½Ñ‹Ðµ:
    - Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐ¹Ñ‚Ðµ ÐºÐ½Ð¾Ð¿ÐºÑƒ `ðŸ‘¤ Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÑŒ Ð¸Ð¼Ñ Ð¸Ð· Telegram`
    - Ð˜Ð»Ð¸ Ð²Ð²ÐµÐ´Ð¸Ñ‚Ðµ Ð¸Ð¼Ñ Ð²Ñ€ÑƒÑ‡Ð½ÑƒÑŽ (2-150 ÑÐ¸Ð¼Ð²Ð¾Ð»Ð¾Ð²)
    - ÐŸÐ¾Ð´Ñ‚Ð²ÐµÑ€Ð´Ð¸Ñ‚Ðµ Ð½Ð¾Ð¼ÐµÑ€ Ñ‚ÐµÐ»ÐµÑ„Ð¾Ð½Ð°


### ÐÐ´Ð¼Ð¸Ð½Ð¸ÑÑ‚Ñ€Ð°Ñ‚Ð¸Ð²Ð½Ñ‹Ðµ ÐºÐ¾Ð¼Ð°Ð½Ð´Ñ‹

### ÐžÑÐ½Ð¾Ð²Ð½Ñ‹Ðµ ÐºÐ¾Ð¼Ð°Ð½Ð´Ñ‹ Ñ‡ÐµÑ€ÐµÐ· Ð¼ÐµÐ½ÑŽ:
`ðŸ‘¨â€ðŸ’¼ Ð’ÑÐµ Ð·Ð°ÑÐ²ÐºÐ¸` - ÐŸÐ¾Ð»Ð½Ñ‹Ð¹ ÑÐ¿Ð¸ÑÐ¾Ðº Ð±Ñ€Ð¾Ð½Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ð¹ (Ñ Ñ„Ð¸Ð»ÑŒÑ‚Ñ€Ð¾Ð¼ Ð¿Ð¾ ÑÑ‚Ð°Ñ‚ÑƒÑÐ°Ð¼ Ð¸Ð· `bookings.status`)  
`âž• Ð¡Ð¾Ð·Ð´Ð°Ñ‚ÑŒ Ð·Ð°ÑÐ²ÐºÑƒ (ÐœÐµÐ½ÐµÐ´Ð¶ÐµÑ€)` - Ð ÑƒÑ‡Ð½Ð¾Ðµ Ð¾Ñ„Ð¾Ñ€Ð¼Ð»ÐµÐ½Ð¸Ðµ Ð±Ñ€Ð¾Ð½Ð¸ (Ð¼ÐµÐ½ÑÐµÑ‚ `bookings.manager_id` Ð² Ð‘Ð”)

### Ð¡Ð¿ÐµÑ†Ð¸Ð°Ð»ÑŒÐ½Ñ‹Ðµ ÐºÐ¾Ð¼Ð°Ð½Ð´Ñ‹:
`/stats` - Ð Ð°ÑÑˆÐ¸Ñ€ÐµÐ½Ð½Ð°Ñ ÑÑ‚Ð°Ñ‚Ð¸ÑÑ‚Ð¸ÐºÐ° (Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ `database.queries.get_stats`)  
`/manager_booking_123` - ÐŸÐ¾Ð´Ñ€Ð¾Ð±Ð½Ð¾ÑÑ‚Ð¸ Ð±Ñ€Ð¾Ð½Ð¸ #123 (Ð¿Ð¾ÐºÐ°Ð·Ñ‹Ð²Ð°ÐµÑ‚ `booking.notes`)

### Ð Ð°Ð±Ð¾Ñ‚Ð° Ñ Google Sheets:
`ðŸ”„ Ð¡Ð¸Ð½Ñ…Ñ€Ð¾Ð½Ð¸Ð·Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ Ð±Ñ€Ð¾Ð½Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ` - Ð­ÐºÑÐ¿Ð¾Ñ€Ñ‚ Ð² Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ñƒ (`config.google.bookings_spreadsheet_id`)  
`ðŸ“… Ð¡Ð¸Ð½Ñ…Ñ€Ð¾Ð½Ð¸Ð·Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ Ñ€Ð°ÑÐ¿Ð¸ÑÐ°Ð½Ð¸Ðµ` - ÐžÐ±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ðµ ÐºÐ°Ð»ÐµÐ½Ð´Ð°Ñ€Ñ (`config.google.schedule_sheet_name`)

### ÐŸÑ€Ð¾Ñ†ÐµÑÑ ÑÐ¾Ð·Ð´Ð°Ð½Ð¸Ñ Ð·Ð°ÑÐ²ÐºÐ¸ (Ñ€ÑƒÑ‡Ð½Ð¾Ð¹ Ñ€ÐµÐ¶Ð¸Ð¼):
1. Ð’Ð²Ð¾Ð´ Ð¸Ð¼ÐµÐ½Ð¸ ÐºÐ»Ð¸ÐµÐ½Ñ‚Ð° (ÑÐ¾Ñ…Ñ€Ð°Ð½ÑÐµÑ‚ÑÑ Ð² `users.name`)
2. ÐÐ¾Ð¼ÐµÑ€ Ñ‚ÐµÐ»ÐµÑ„Ð¾Ð½Ð° (Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐ° Ð¿Ð¾ `users.phone`)
3. Ð’Ñ‹Ð±Ð¾Ñ€ Ð¿ÐµÑ€Ð¸Ð¾Ð´Ð° (`single_date` Ð¸Ð»Ð¸ Ð´Ð¸Ð°Ð¿Ð°Ð·Ð¾Ð½ `start_date`-`end_date`)
4. Ð”Ð¾Ð±Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ ÐºÐ¾Ð¼Ð¼ÐµÐ½Ñ‚Ð°Ñ€Ð¸Ñ (`bookings.manager_notes`)
5. ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð½Ð¾ÑÑ‚Ð¸ (`items.availability_schedule`)


## ÐžÑÐ½Ð¾Ð²Ð½Ñ‹Ðµ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¸

âœ… Ð£Ð¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ ÑÐ¿Ð¸ÑÐºÐ¾Ð¼ Ð¼ÐµÐ½ÐµÐ´Ð¶ÐµÑ€Ð¾Ð² (configs/config.yaml: `managers`)  
ðŸš« Ð§ÐµÑ€Ð½Ñ‹Ð¹ ÑÐ¿Ð¸ÑÐ¾Ðº Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÐµÐ¹ (configs/config.yaml: `blacklist`)  
ðŸ“Š Ð˜Ð½Ñ‚ÐµÐ³Ñ€Ð°Ñ†Ð¸Ñ Ñ Google Sheets Ñ‡ÐµÑ€ÐµÐ· ÑÐµÑ€Ð²Ð¸ÑÐ½Ñ‹Ð¹ Ð°ÐºÐºÐ°ÑƒÐ½Ñ‚

## ÐžÑÐ¾Ð±ÐµÐ½Ð½Ð¾ÑÑ‚Ð¸ Ñ€ÐµÐ°Ð»Ð¸Ð·Ð°Ñ†Ð¸Ð¸
1. configs/items.yaml - Ð²Ð°Ð¶Ð½Ð¾ Ð´Ð¾Ð±Ð°Ð²Ð»ÑÑ‚ÑŒ Ð½Ð¾Ð²Ñ‹Ðµ Ð°Ð¿Ð¿Ð°Ñ€Ð°Ñ‚Ñ‹ Ñ ÑƒÐ½Ð¸ÐºÐ°Ð»ÑŒÐ½Ñ‹Ð¼ Ð°Ð¹Ð´Ð¸, order Ð¼Ð¾Ð¶ÐµÑ‚ Ð´ÑƒÐ±Ð»Ð¸Ñ€Ð¾Ð²Ð°ÑŒÑ‚ÑÑ Ñ Ð¸Ð¼ÐµÑŽÑ‰Ð¸Ð¼ÑÑ Ð² Ñ„Ð°Ð¹Ð»Ðµ, Ñ‚Ð¾Ð³Ð´Ð° Ð½Ð¾Ð²Ñ‹Ð¹ Ð¿ÑƒÐ½ÐºÑ‚ Ð±ÑƒÐ´ÐµÑ‚ Ð½Ð¸Ð¶Ðµ Ð½Ð° ÑÑ‚Ñ€Ð¾ÐºÑƒ.
2. ÐœÐµÐ½ÐµÐ´Ð¶ÐµÑ€ Ð¼Ð¾Ð¶ÐµÑ‚ ÑÐ¾Ð·Ð´Ð°Ñ‚ÑŒ Ð·Ð°ÑÐ²ÐºÑƒ Ð½Ð° Ð´Ð¸Ð°Ð¿Ð°Ð·Ð¾Ð½ Ð´Ð°Ñ‚, Ð¿Ð¾ ÑÑƒÑ‚Ð¸ ÑÑ‚Ð¾ Ð±ÑƒÐ´ÑƒÑ‚ Ð¼Ð½Ð¾Ð³Ð¾ Ð·Ð°ÑÐ²Ð¾Ðº, ÐºÐ°Ð¶Ð´Ð°Ñ Ð½Ð° ÑÐ²Ð¾ÑŽ Ð´Ð°Ñ‚Ñƒ.
3. Ð“Ð»Ð°Ð²Ð½Ð°Ñ ÐºÐ¾Ð¼Ð°Ð½Ð´Ð° Ð¼ÐµÐ½ÐµÐ´Ð¶ÐµÑ€Ð° /manager_booking_ÐÐ¾Ð¼ÐµÑ€Ð·Ð°ÑÐ²ÐºÐ¸ Ð¾Ð½Ð° Ð¿Ð¾Ð·Ð²Ð¾Ð»Ð¸Ñ‚ Ð¿Ð¾ÑÐ¼Ð¾Ñ‚Ñ€ÐµÑ‚ÑŒ Ð·Ð°ÑÐ²ÐºÑƒ, Ð²ÐµÑ€Ð½ÑƒÑ‚ÑŒ ÐµÐµ Ð² Ñ€Ð°Ð±Ð¾Ñ‚Ñƒ, Ð¿Ñ€Ð¸Ð½ÑÑ‚ÑŒ Ð¿Ð¾ Ð½ÐµÐ¹ Ð´Ñ€ÑƒÐ³Ð¾Ðµ Ñ€ÐµÑˆÐµÐ½Ð¸Ðµ.


---

! Ð’Ð°Ð¶Ð½Ð¾: Ð¿ÐµÑ€ÐµÐ´ Ð´ÐµÐ¿Ð»Ð¾ÐµÐ¼ Ð² production:
1. Ð£ÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚Ðµ `environment: production`
2. ÐžÑ‚ÐºÐ»ÑŽÑ‡Ð¸Ñ‚Ðµ `telegram.debug`
3. ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹Ñ‚Ðµ SSL Ð´Ð»Ñ PostgreSQL
4. ÐžÐ±Ð½Ð¾Ð²Ð¸Ñ‚Ðµ `managers_contacts`

ÐŸÑ€Ð¸ Ñ€Ð°Ð·Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐµ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÑŒ ÐºÐ¾Ð¼Ð°Ð½Ð´Ñƒ Ð´Ð»Ñ Ð·Ð°Ð¿ÑƒÑÐºÐ° Ð¸Ð½Ñ„Ñ€Ð°ÑÑ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ñ‹
git pull
docker-compose down
docker-compose build --no-cache
docker-compose up
docker logs -f booking-bot

docker-compose -f ./docker/docker-compose.dev.yml up -d

docker-compose -f ./docker/docker-compose.dev.yml --env-file .env up -d

### sqlite

sqlite3 /path/to/your/database.db

-- ÐŸÐ¾ÑÐ¼Ð¾Ñ‚Ñ€ÐµÑ‚ÑŒ Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ñ‹
.tables

-- ÐŸÐ¾ÑÐ¼Ð¾Ñ‚Ñ€ÐµÑ‚ÑŒ ÑÑ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ñƒ Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ñ‹ bookings
.schema bookings

-- ÐŸÐ¾ÑÐ¼Ð¾Ñ‚Ñ€ÐµÑ‚ÑŒ Ð¿ÐµÑ€Ð²Ñ‹Ðµ 10 Ð·Ð°Ð¿Ð¸ÑÐµÐ¹
SELECT * FROM bookings LIMIT 10;

-- ÐŸÐ¾ÑÐ¼Ð¾Ñ‚Ñ€ÐµÑ‚ÑŒ ÐºÐ¾Ð»Ð¸Ñ‡ÐµÑÑ‚Ð²Ð¾ Ð·Ð°Ð¿Ð¸ÑÐµÐ¹
SELECT COUNT(*) FROM bookings;

-- ÐŸÐ¾ÑÐ¼Ð¾Ñ‚Ñ€ÐµÑ‚ÑŒ Ð·Ð°ÑÐ²ÐºÐ¸ Ð·Ð° Ð¿Ð¾ÑÐ»ÐµÐ´Ð½Ð¸Ðµ Ð´Ð½Ð¸
SELECT id, user_name, item_name, date, status, created_at
FROM bookings
WHERE date(created_at) >= date('now', '-7 days')
ORDER BY created_at DESC;

-- Ð’Ñ‹Ð¹Ñ‚Ð¸
.quit

-- Ð£Ð´Ð°Ð»Ð¸Ñ‚ÑŒ Ð²ÑÐµ Ð·Ð°Ð¿Ð¸ÑÐ¸, ÐºÑ€Ð¾Ð¼Ðµ Ð¿ÐµÑ€Ð²Ñ‹Ñ… Ð´Ð²ÑƒÑ… (Ð¿Ð¾ ID)
DELETE FROM bookings WHERE id > 2;

